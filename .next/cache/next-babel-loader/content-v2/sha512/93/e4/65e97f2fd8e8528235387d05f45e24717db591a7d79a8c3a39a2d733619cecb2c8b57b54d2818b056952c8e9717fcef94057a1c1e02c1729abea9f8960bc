{"ast":null,"code":"import cors from \"../cors\";\nimport { FactoryLogic } from \"e-commercee/ECommerce/dist/logic/FactoryLogic\";\nexport default async function (req, res) {\n  if (req.method === \"GET\") {\n    try {\n      await cors(req, res);\n      const {\n        pidcard\n      } = req.query;\n      const getadmin = await FactoryLogic.getLUser().getUser(pidcard);\n      return res.send(getadmin);\n    } catch (error) {\n      return res.status(500).send(\"Could not search user \" + error.message);\n    }\n  }\n\n  if (req.method === \"POST\") {\n    await cors(req, res);\n\n    try {\n      const {\n        pusername,\n        ppassword\n      } = req.query;\n      const getadmin = await FactoryLogic.getLUser().loginUser(pusername, ppassword);\n      return res.send(getadmin);\n    } catch (error) {\n      return res.status(500).send(\"Could not login user: \" + error.message);\n    }\n  }\n}","map":{"version":3,"sources":["D:/TODO (Desarrollo Software)/Tutoriales y demas cosas/APINext/APINextEcommercee/pages/api/user/user.js"],"names":["cors","FactoryLogic","req","res","method","pidcard","query","getadmin","getLUser","getUser","send","error","status","message","pusername","ppassword","loginUser"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,SAAjB;AACA,SAASC,YAAT,QAA6B,+CAA7B;AAGA,eAAe,gBAAgBC,GAAhB,EAAqBC,GAArB,EACf;AACE,MAAGD,GAAG,CAACE,MAAJ,KAAa,KAAhB,EACA;AACE,QACA;AACI,YAAMJ,IAAI,CAACE,GAAD,EAAMC,GAAN,CAAV;AACA,YAAM;AAACE,QAAAA;AAAD,UAAYH,GAAG,CAACI,KAAtB;AACA,YAAMC,QAAQ,GAAC,MAAMN,YAAY,CAACO,QAAb,GAAwBC,OAAxB,CAAgCJ,OAAhC,CAArB;AACA,aAAOF,GAAG,CAACO,IAAJ,CAASH,QAAT,CAAP;AACH,KAND,CAOA,OAAOI,KAAP,EAAc;AACZ,aAAOR,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB,2BAAyBC,KAAK,CAACE,OAApD,CAAP;AACD;AACF;;AACD,MAAGX,GAAG,CAACE,MAAJ,KAAa,MAAhB,EACA;AACE,UAAMJ,IAAI,CAACE,GAAD,EAAMC,GAAN,CAAV;;AACA,QACA;AACC,YAAM;AAACW,QAAAA,SAAD;AAAWC,QAAAA;AAAX,UAAwBb,GAAG,CAACI,KAAlC;AACG,YAAMC,QAAQ,GAAC,MAAMN,YAAY,CAACO,QAAb,GAAwBQ,SAAxB,CAAkCF,SAAlC,EAA4CC,SAA5C,CAArB;AACA,aAAOZ,GAAG,CAACO,IAAJ,CAASH,QAAT,CAAP;AACH,KALD,CAMA,OAAOI,KAAP,EAAc;AACZ,aAAOR,GAAG,CAACS,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB,2BAAyBC,KAAK,CAACE,OAApD,CAAP;AAED;AACF;AAEF","sourcesContent":["import cors from \"../cors\";\r\nimport { FactoryLogic } from \"e-commercee/ECommerce/dist/logic/FactoryLogic\";\r\n\r\n\r\nexport default async function (req, res) \r\n{\r\n  if(req.method===\"GET\")\r\n  {\r\n    try\r\n    {\r\n        await cors(req, res)\r\n        const {pidcard} = req.query;\r\n        const getadmin=await FactoryLogic.getLUser().getUser(pidcard);\r\n        return res.send(getadmin);\r\n    }\r\n    catch (error) {\r\n      return res.status(500).send(\"Could not search user \"+error.message);\r\n    }\r\n  }\r\n  if(req.method===\"POST\")\r\n  {\r\n    await cors(req, res)\r\n    try\r\n    {\r\n     const {pusername,ppassword} = req.query;\r\n        const getadmin=await FactoryLogic.getLUser().loginUser(pusername,ppassword);\r\n        return res.send(getadmin); \r\n    }\r\n    catch (error) {\r\n      return res.status(500).send(\"Could not login user: \"+error.message);    \r\n      \r\n    }\r\n  }\r\n\r\n}"]},"metadata":{},"sourceType":"module"}